<!DOCTYPE html>
<html lang="en-us">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Text Network of 1969 WHC Report</title>
        <link rel="canonical" href="/analyses/text-network/">
        <style>

    html body {
        font-family: 'Heebo', sans-serif;
        background-color: #f5f5f5;
    }

    :root {
        --accent: #005959;
        --border-width:  0 ;
    }

</style>


<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Heebo">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=VT323">


 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/lakeside-light.min.css"> 


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">


<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.0/css/all.css" integrity="sha384-Mmxa0mLqhmOeaE8vgOSbKacftZcsNYDjQzuCOm6D02luYSzBG8vpaOykv9lFQ51Y" crossorigin="anonymous">


<link rel="stylesheet" href="/css/main.css">




 


    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/r.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/bash.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/go.min.js"></script>
    

    <script>hljs.initHighlightingOnLoad();</script>







<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>


<link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
<script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>


<script>$(document).on('click', function() { $('.collapse').collapse('hide'); })</script>


<script>
$(document).ready(function(){
    
  var input = $('#night-mode-toggle');
  var container = $('#bigbody');
  var stat = $('#button-status');
  
  container.toggleClass(localStorage.toggled);
  stat.bootstrapToggle(localStorage.button).change();
  
  input.on('click', function() {
      if (localStorage.toggled != "-nightmode" ) {
          container.toggleClass("-nightmode", true );
          localStorage.toggled = "-nightmode";
          localStorage.button = "on";
       } else {
          container.toggleClass("-nightmode", false );
          localStorage.toggled = "";
          localStorage.button = "off"
       }
  })
});
</script>
 <meta name="generator" content="Hugo 0.69.2" />
        <link href="" rel="alternate" type="application/rss+xml" title="Wotecki et al. (2020) - Annual Review of Nutrition - Supplementary Materials" />
        <link href="" rel="feed" type="application/rss+xml" title="Wotecki et al. (2020) - Annual Review of Nutrition - Supplementary Materials" />
        

    
    <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon/favicon-16x16.png">
    <link rel="manifest" href="/img/favicon/site.webmanifest">
    <link rel="mask-icon" href="/img/favicon/safari-pinned-tab.svg" color="#000000">
    <link rel="shortcut icon" href="/img/favicon/favicon.ico">
    <meta name="msapplication-TileColor" content="#2b5797">
    <meta name="msapplication-config" content="/img/favicon/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    
    
    
    <meta property="og:title" content="Text Network of 1969 WHC Report">
    <meta property="og:type" content="article">
      
      <meta name="twitter:card" content="summary">
      <meta name="twitter:image" content="/favicon/ARN-logo.jpeg" >
      
    <meta property="description" content="">
    <meta property="og:description" content="">
    
    <meta name="twitter:creator" content="">
    <meta name="twitter:site" content="">
    
    </head>

    
    
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
    

    <body id = "bigbody">
        <nav class="navbar navbar-default navbar-fixed-top">
            <div class="container">
                <div class="navbar-header">
                    <a class="navbar-brand visible-xs" href="#">Text Network of 1969 WHC Report</a>
                    <button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
                <div class="collapse navbar-collapse">
                    
                        <ul class="nav navbar-nav">
                            
                                <li><a href="/">Home</a></li>
                            
                                <li><a href="/description/">Project Description</a></li>
                            
                                <li><a href="/analyses/">Supplementary Analyses</a></li>
                            
                        </ul>
                    
                    
                        <ul class="nav navbar-nav navbar-right">
                            
                                <li class="navbar-icon"><a href="https://www.annualreviews.org/journal/nutr"><i class="fas fa-book"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://harvard.hosted.panopto.com/Panopto/Pages/Viewer.aspx?id=0efe988f-6903-46c6-bd91-aac30132f108"><i class="fas fa-video"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://sites.tufts.edu/foodnutritionandhealth2019/"><i class="fas fa-archway"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://github.com/uva-bi-sdad/impacts-and-echoes"><i class="fab fa-github"></i></a></li>
                            
                                <li class="navbar-icon"><a href="mailto:brandonleekramer@gmail.com"><i class="far fa-envelope"></i></a></li>
                            
                            <li id="night-mode-toggle">
    <input type="checkbox" id = "button-status"
        data-toggle="toggle"
        data-width = "10"
        data-height = "1"
        data-on="<i class='far fa-moon fa-lg'></i>"
        data-off= "<i class='far fa-sun fa-lg'></i>"
        data-style="ios"
        data-onstyle = "default">
</li>
                        </ul>
                    
                </div>
            </div>
        </nav>


<main>

    <div class="item">

    
    
    

    
    
      
    

    <h4><a href="/analyses/text-network/">Text Network of 1969 WHC Report</a></h4>
    
    <h5></h5>

    
    

</div>


    <br> <div class="text-justify">


<p><img src="/text-network-final.svg#center" /></p>
<p>In this paper,…</p>
<p>First, we decided to get a basic idea of what was talked about in the 1969 White House Conference. To do this, we did a basic word frequency count, examined the text for bigrams (i.e. the most commonly occuring words that arise next to each other in the text), and then graphed those bigram relations using network analysis.</p>
<p>Here are the 10 most commonly occuring words…</p>
<pre class="r"><code>setwd(&quot;~/Documents/Nutrition/Literature&quot;)
text_data &lt;- pdf_text(&quot;1969 WHC Report.pdf&quot;) %&gt;% 
  readr::read_lines()
conference_data &lt;- tibble(text = text_data)

conference_data &lt;- conference_data %&gt;% 
  unnest_tokens(word, text) %&gt;%
  #mutate(word = wordStem(word)) %&gt;%  # for stemming
  anti_join(stop_words)

my_stopwords &lt;- tibble(word = c(as.character(1:6), 
                                &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;tion&quot;, &quot;pro&quot;, &quot;7&quot;, &quot;8&quot;, &quot;378&quot;, &quot;473&quot;, &quot;11&quot;, &quot;111&quot;, &quot;iv&quot;, &quot;ph&quot;, &quot;m.d&quot;, &quot;vi&quot;, &quot;nutri&quot;))
conference_data &lt;- conference_data %&gt;% anti_join(my_stopwords)

# recoding certain words 
conference_data &lt;- conference_data %&gt;% 
  mutate(term = ifelse(test = str_detect(string = word, 
                       pattern = &quot;\\b(?i)(program|programs)\\b&quot;), 
                       yes = &quot;programs&quot;, no = word)) %&gt;% 
  mutate(term = ifelse(test = str_detect(string = word, 
                       pattern = &quot;\\b(?i)(stamp|stamps)\\b&quot;), 
                       yes = &quot;stamps&quot;, no = term)) %&gt;% 
  mutate(term = ifelse(test = str_detect(string = word, 
                       pattern = &quot;\\b(?i)(school|schools)\\b&quot;), 
                       yes = &quot;schools&quot;, no = term)) %&gt;% 
  mutate(term = ifelse(test = str_detect(string = word, 
                       pattern = &quot;\\b(?i)(system|systems)\\b&quot;), 
                       yes = &quot;systems&quot;, no = term)) %&gt;% 
  mutate(term = ifelse(test = str_detect(string = word, 
                       pattern = &quot;\\b(?i)(sector|sectors)\\b&quot;), 
                       yes = &quot;sectors&quot;, no = term)) %&gt;% 
  mutate(term = ifelse(test = str_detect(string = word, 
                       pattern = &quot;\\b(?i)(supply|supplies)\\b&quot;), 
                       yes = &quot;systems&quot;, no = term)) %&gt;% 
  mutate(term = ifelse(test = str_detect(string = word, 
                       pattern = &quot;\\b(?i)(food|foods)\\b&quot;), 
                       yes = &quot;food&quot;, no = term)) %&gt;% 
  mutate(term = ifelse(test = str_detect(string = word, 
                       pattern = &quot;\\b(?i)(policy|policies)\\b&quot;), 
                       yes = &quot;policies&quot;, no = term)) %&gt;% 
  mutate(term = ifelse(test = str_detect(string = word, 
                       pattern = &quot;\\b(?i)(product|products)\\b&quot;), 
                       yes = &quot;products&quot;, no = term)) %&gt;% 
  mutate(term = ifelse(test = str_detect(string = word, 
                       pattern = &quot;\\b(?i)(level|levels)\\b&quot;), 
                       yes = &quot;levels&quot;, no = term)) %&gt;% 
  mutate(term = ifelse(test = str_detect(string = word, 
                       pattern = &quot;\\b(?i)(science|sciences)\\b&quot;), 
                       yes = &quot;science&quot;, no = term)) %&gt;% 
  mutate(term = ifelse(test = str_detect(string = word, 
                       pattern = &quot;\\b(?i)(lunch|lunches)\\b&quot;), 
                       yes = &quot;lunch&quot;, no = term)) %&gt;% 
  mutate(term = ifelse(test = str_detect(string = word, 
                       pattern = &quot;\\b(?i)(education|educational)\\b&quot;), 
                       yes = &quot;education&quot;, no = term)) %&gt;% 
  mutate(term = ifelse(test = str_detect(string = word, 
                       pattern = &quot;\\b(?i)(nutrition|nutritional)\\b&quot;), 
                       yes = &quot;nutrition&quot;, no = term)) %&gt;% 
  mutate(term = ifelse(test = str_detect(string = word, 
                       pattern = &quot;\\b(?i)(agency|agencies)\\b&quot;), 
                       yes = &quot;agency&quot;, no = term)) %&gt;% 
  select(-word) %&gt;% rename(word = term)

word_counts &lt;- conference_data %&gt;%
  count(word, sort = TRUE)

word_counts %&gt;% filter(word == &quot;program&quot; | word == &quot;programs&quot;)</code></pre>
<pre><code>## # A tibble: 1 x 2
##   word         n
##   &lt;chr&gt;    &lt;int&gt;
## 1 programs  1518</code></pre>
<p>And the 10 most commonly occuring set of words (or bigrams)…</p>
<pre class="r"><code>conference_bigrams &lt;- conference_data  %&gt;%
  unnest_tokens(bigram, word, token = &quot;ngrams&quot;, n = 2)

conference_bigrams %&gt;%
  count(bigram, sort = TRUE)</code></pre>
<pre><code>## # A tibble: 78,515 x 2
##    bigram                  n
##    &lt;chr&gt;               &lt;int&gt;
##  1 nutrition education   209
##  2 schools lunch         180
##  3 food stamps           173
##  4 task force            168
##  5 food nutrition        157
##  6 washington d.c        144
##  7 food service          139
##  8 health education      111
##  9 nutrition health      109
## 10 public health         108
## # … with 78,505 more rows</code></pre>
<pre class="r"><code>conference_separated &lt;- conference_bigrams %&gt;%
  separate(bigram, c(&quot;word1&quot;, &quot;word2&quot;), sep = &quot; &quot;)

bigrams_filtered &lt;- conference_separated %&gt;%
  filter(!word1 %in% stop_words$word) %&gt;%
  filter(!word2 %in% stop_words$word)

bigram_counts &lt;- bigrams_filtered %&gt;% 
  count(word1, word2, sort = TRUE)</code></pre>
<p>And here is the network of the bigram relations. In this network, nodes correspond to words and the ties between them refer to co-occurences. The strength of the ties is the number of times words co-occur in the 1969 White House Conference text. As you can see, the bulk of the document focuses on nutrition programs, including school lunch programs, food stamp programs, and nutrition education programs.</p>
<pre class="r"><code>set.seed(1234)
bigram_network &lt;- bigram_counts %&gt;%
  filter(n &gt;= 15) %&gt;%
  graph_from_data_frame() %&gt;%
  ggraph(layout = &quot;fr&quot;) +
  geom_edge_link(aes(edge_alpha = n, edge_width = n), edge_colour = &quot;cyan4&quot;) +
  geom_node_point(size = 3.5) +
  geom_node_text(aes(label = name), repel = TRUE, 
                 point.padding = unit(0.2, &quot;lines&quot;)) + theme_void()
bigram_network</code></pre>
<p><img src="/analyses/text-network_files/figure-html/text%20networks-1.png" width="864" /></p>
</div>

    
    

    

    

    

    

</main>

        <footer id = "bigfooter">
            <div style = "padding:15px;">
                <p>Powered by <a href="https://gohugo.io">Hugo</a>. Themed by <a href="https://github.com/nathancday/min_night">min_night</a>.
                </p>
                <a rel="license" href="https://creativecommons.org/licenses/by/4.0/"
                title="Creative Commons Attribution 4.0 International license">
                <i class="fab fa-creative-commons" aria-hidden="true"></i> Attribution 4.0 International license
                </a>
            </div>
        </footer>
        
        <script async src="https://www.googletagmanager.com/gtag/js?id="></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments)};
          gtag('js', new Date());
          gtag('config', '');
        </script>
       
    </body>

</html>

